# SSH

ssh는 secure shell의 약자로써 remote server와 안전한 커넥션을 통해 커뮤니케이션이 가능한 프로토콜입니다.



ssh는 OS와 상관없이 사용이 가능하며 안전한 통신을 위해 패킷을 암호화 해야합니다.



##### 패킷 노출의 위험

***



![스크린샷 2021-08-11 오전 10.19.59](/Users/jinwoobae/Library/Application Support/typora-user-images/스크린샷 2021-08-11 오전 10.19.59.png)



인터넷을 통해 보낸 패킷은 sniffer에 의해 스니핑당하게 된다면 패킷안의 내용이 노출되게 됩니다.

노출 자체는 막기가 힘들기 때문에 패킷의 내용을 암호화할 필요가 있습니다. 



키로 암호화를 하는 것은 크게 두가지 방식이 있습니다.

symmetric key, asymmetric key 입니다.



ssh에서는 대칭키 암호화방식과 비대칭키 암호화 방식을 모두 사용합니다.



처음 서버를 검증할때는 비대칭키 암호화 방식을 사용하고 이후 데이터를 주고받을때는 대칭키를 통해 암호화하여 데이터를 보냅니다.



EC2 인스턴스를 처음 생성하면 프라이빗 키와 퍼블릭키 쌍을 생성하고



프라이빗키는 클라이언트에게 퍼블릭키는 서버에게 전달합니다.



![스크린샷 2021-08-11 오후 6.57.34](/Users/jinwoobae/Library/Application Support/typora-user-images/스크린샷 2021-08-11 오후 6.57.34.png)



그다음 서버는 클라이언트를 검증할때 다음과 같은 절차를 밟습니다.



![sequence](/Users/jinwoobae/Downloads/sequence.png)

비대칭키를 활용하여 클라이언트를 검증한 다음에는 대칭키를 통해 데이터를 암호화하여 소통합니다.



그이유는 대칭키 암호화가 비대칭키 암호화 기법보다 속도가 빠르기 때문입니다.



